<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AsciiReel</title>
</head>
<body>

    <div id="header-content">
        <ul id="main-menu" class="horizontal-menu no-select">
            <li>
                <span>File</span>
                <ul>
                    <li class="action-item" data-action="file.new-file"></li>
                    <li class="action-item" data-action="file.open-file"></li>
                    <li class="action-item" data-action="file.save-file"></li>
                    <li class="action-item" data-action="file.export-file"></li>
                </ul>
            </li>
            <li>
                <span>Edit</span>
                <ul>
                    <li class="action-item" data-action="state.undo"></li>
                    <li class="action-item" data-action="state.redo"></li>
                    <li class="break"></li>
                    <li class="action-item" data-action="clipboard.cut"></li>
                    <li class="action-item" data-action="clipboard.copy"></li>
                    <li class="action-item" data-action="clipboard.paste"></li>
                    <li class="action-item" data-action="clipboard.paste-in-selection"></li>
                    <li class="break"></li>
                    <li class="action-item" data-action="selection.select-all"></li>
                </ul>
            </li>
            <li>
                <span>View</span>
                <ul>
                    <li class="action-item" data-action="view.toggle-grid"></li>
                    <li class="action-item" data-action="view.grid-settings"></li>
                    <li class="action-item" data-action="view.toggle-whitespace"></li>
                    <li class="break"></li>
                    <li class="action-item" data-action="view.zoom-in"></li>
                    <li class="action-item" data-action="view.zoom-out"></li>
                    <li class="action-item" data-action="view.zoom-fit"></li>
                </ul>
            </li>
            <li>
                <span>Tools</span>
                <ul>
                    <li class="action-item" data-action="settings.open-font-dialog"></li>
                    <li class="action-item" data-action="settings.open-background-dialog"></li>
                    <li class="action-item" data-action="settings.open-resize-dialog"></li>
                    <li class="break"></li>
                    <li class="action-item" data-action="preferences"></li>
                    <li class="action-item" data-action="keyboard-shortcuts"></li>
                </ul>
            </li>
        </ul>
        <div class="center-title"></div>
        <div></div>

        <input id="upload-file" type="file" hidden>
    </div>

    <div id="body-content">

        <div id="frames-and-canvas" class="frames-on-left">
            <div id="tools-and-canvas">
                <div id="editing-tools">
                    <div class="editing-tool-row">
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="text-editor"><span class="ri ri-fw ri-text"></span></div>
                        </div>
                    </div>
                    <div class="editing-tool-row">
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="draw-freeform">
                                <span class="ri ri-fw ri-quill-pen-line"></span>
                                <span class="freeform-char"></span>
                            </div>
                            <div class="editing-tool" data-tool="draw-rect"><span class="icon-rect-solid"></span></div>
                        </div>
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="eraser"><span class="ri ri-fw ri-eraser-line"></span></div>
                            <div class="editing-tool" data-tool="draw-line"><span class="icon-line-solid"></span></div>
                        </div>
                    </div>
                    <div class="spacer"></div>

                    <div class="editing-tool-row">
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="selection-rect"><span class="icon-rect-dashed"></span></div>
                            <div class="editing-tool" data-tool="selection-lasso"><span class="icon-lasso-dashed"></span></div>
                        </div>
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="selection-line"><span class="icon-line-dashed"></span></div>
                            <div class="editing-tool" data-tool="selection-wand"><span class="ri ri-fw ri-magic-line"></span></div>
                        </div>
                    </div>

                    <div class="spacer"></div>

                    <div class="editing-tool-row">
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="paint-brush"><span class="ri ri-fw ri-brush-line"></span></div>
                            <div class="editing-tool" data-tool="color-swap"><span class="ri ri-fw ri-palette-line"></span></div>
                        </div>
                        <div class="editing-tool-column">
                            <div class="editing-tool" data-tool="paint-bucket"><span class="ri ri-fw ri-paint-fill"></span></div>
                            <div class="editing-tool" data-tool="eyedropper"><span class="ri ri-fw ri-dropper-line"></span></div>
                        </div>
                    </div>

                    <div class="spacer"></div>
                    <div class="editing-tool-row">
                        <div class="editing-tool-column">
                            <div class="color-picker" id="current-color"></div>
                        </div>
                    </div>

                </div>
                <div id="selection-tools" class="sub-tool-menu" style="display: none;">
                    <div class="sub-tool" data-tool="move"><span class="ri ri-fw ri-drag-move-2-fill"></span></div>
                    <div class="sub-tool" data-tool="typewriter"><span class="ri ri-fw ri-text-direction-l"></span></div>
                    <div class="sub-tool" data-tool="flip-v"><span class="ri ri-fw ri-flip-vertical-fill"></span></div>
                    <div class="sub-tool" data-tool="flip-h"><span class="ri ri-fw ri-flip-horizontal-fill"></span></div>
                    <div class="sub-tool" data-tool="clone"><span class="ri ri-fw ri-file-copy-2-line"></span></div>
                    <div class="sub-tool" data-tool="paint-bucket"><span class="ri ri-fw ri-paint-fill"></span></div>
                    <div class="sub-tool" data-tool="resize"><span class="ri ri-fw ri-crop-line"></span></div>
                    <div class="sub-tool" data-tool="close"><span class="ri ri-fw ri-close-line"></span></div>
                </div>
                <div id="draw-rect-types" class="sub-tool-menu" style="display: none;">
                    <div class="sub-tool" data-type="printable-ascii-1"><span>/-</span></div>
                    <div class="sub-tool" data-type="printable-ascii-2"><span>+-</span></div>
                    <div class="sub-tool" data-type="single-line"><span>┌─</span></div>
                    <div class="sub-tool" data-type="double-line"><span>╔═</span></div>
                </div>
                <div id="draw-line-types" class="sub-tool-menu" style="display: none;">
                    <div class="sub-tool" data-type="basic"><span>`.</span></div>
                </div>
                <div id="brush-shapes" class="sub-tool-menu" style="display: none;">
                    <div class="sub-tool" data-shape="square" data-size="1">
                        <span class="ri ri-fw ri-checkbox-blank-fill" style="font-size: 0.5rem;"></span>
                    </div>
                    <div class="sub-tool" data-shape="square" data-size="2">
                        <span class="ri ri-fw ri-checkbox-blank-fill" style="font-size: 0.75rem;"></span>
                    </div>
                    <div class="sub-tool" data-shape="square" data-size="3">
                        <span class="ri ri-fw ri-checkbox-blank-fill" style="font-size: 1rem;"></span>
                    </div>
                    <div class="sub-tool" data-shape="square" data-size="5">
                        <span class="ri ri-fw ri-checkbox-blank-fill" style="font-size: 1.25rem;"></span>
                    </div>
                    <div class="sub-tool" data-shape="square" data-size="10">
                        <span class="ri ri-fw ri-checkbox-blank-fill" style="font-size: 1.5rem;"></span>
                    </div>
                    <div class="sub-tool" data-shape="circle" data-size="3">
                        <span class="ri ri-fw ri-checkbox-blank-circle-fill" style="font-size: 1rem;"></span>
                    </div>
                    <div class="sub-tool" data-shape="circle" data-size="5">
                        <span class="ri ri-fw ri-checkbox-blank-circle-fill" style="font-size: 1.25rem;"></span>
                    </div>
                </div>
                <div id="canvas-message" style="display: none;"></div>
                <div id="canvas-container">
                    <canvas id="char-canvas" class="absolute-center full"></canvas>
                    <canvas id="selection-border-canvas" class="absolute-center full"></canvas>
                    <canvas id="hovered-cell-canvas" class="absolute-center full"></canvas>
                    <canvas id="selection-canvas" class="absolute-center full"></canvas>
                </div>
            </div>
            <div id="frame-controller">
                <div class="tools">
                    <div>
                        <span class="section-header no-select">Frames</span>
                        <button data-action="frames.new-frame">
                            <span class="ri ri-fw ri-add-circle-line"></span>
                        </button>
                        <button data-action="frames.duplicate-frame">
                            <span class="ri ri-fw ri-file-copy-2-line"></span>
                        </button>
                        <button data-action="frames.delete-frame">
                            <span class="ri ri-fw ri-delete-bin-line"></span>
                        </button>
                        <span class="spacer"></span>
                        <button class="toggle-onion" data-action="frames.toggle-onion">
                            <span class="ri ri-fw ri-stack-line"></span>
                        </button>
                        <span class="spacer"></span>
<!--                        <button data-action="frames.previous-frame">-->
<!--                            <span class="ri ri-fw ri-arrow-up-line"></span>-->
<!--                        </button>-->
<!--                        <button data-action="frames.next-frame">-->
<!--                            <span class="ri ri-fw ri-arrow-down-line"></span>-->
<!--                        </button>-->
                    </div>
                    <div>
                        <button class="align-frames-left" data-action="frames.align-left">
                            <span class="ri ri-fw ri-layout-left-line"></span>
                        </button>
                        <button class="align-frames-bottom" data-action="frames.align-bottom">
                            <span class="ri ri-fw ri-layout-bottom-line"></span>
                        </button>
                    </div>
                </div>
                <div class="frame-template frame">
                    <span class="frame-index"></span>
                    <canvas class="absolute-center full"></canvas>
                </div>
                <div class="frame-list"></div>
            </div>
        </div>
        <div id="side-content">
            <div id="preview-controller">
                <div class="tools">
                    <span class="section-header no-select">Preview</span>
                    <button data-action="preview.open-popup">
                        <span class="ri ri-fw ri-external-link-line"></span>
                    </button>
                </div>
                <div id="preview-canvas-container">
                    <canvas id="preview-canvas" class="absolute-center full draggable"></canvas>
                </div>
                <div id="preview-fps-container">
                    <div id="preview-fps-value"></div>
                    <div id="preview-fps-slider"></div>
                </div>
            </div>

            <div class="side-separator"></div>

            <div id="layer-controller" class="side-content-flex-section">
                <div class="tools">
                    <div>
                        <span class="section-header no-select">Layers</span>
                    </div>
                    <div>
                        <button data-action="layers.add-layer">
                            <span class="ri ri-fw ri-add-circle-line"></span>
                        </button>
                        <button data-action="layers.edit-layer">
                            <span class="ri ri-fw ri-pencil-line"></span>
                        </button>
                        <button data-action="layers.delete-layer">
                            <span class="ri ri-fw ri-delete-bin-line"></span>
                        </button>
                        <button class="toggle-visibility-lock" data-action="layers.toggle-visibility-lock">
                            <span class="ri ri-fw"></span>
                        </button>
                    </div>
                </div>
                <div class="layer-template layer">
                    <span class="layer-name"></span>
                    <button class="toggle-visibility">
                        <span class="ri ri-fw"></span>
                    </button>
                </div>
                <div class="list"></div>
            </div>

            <div class="side-separator"></div>

            <div id="palette-controller" class="side-content-flex-section">
                <div class="tools">
                    <div>
                        <span class="section-header no-select">Palette</span>
                    </div>
                    <div>
                        <button data-action="palette.sort-colors">
                            <span class="ri ri-fw ri-sort-desc"></span>
                        </button>
                        <button data-action="palette.delete-color">
                            <span class="ri ri-fw ri-delete-bin-line"></span>
                        </button>
                        <button data-action="palette.open-settings">
                            <span class="ri ri-fw ri-settings-5-line"></span>
                        </button>
                    </div>
                </div>
                <div class="list as-rows"></div>
            </div>

            <div class="side-separator"></div>

            <div id="unicode-controller" class="side-content-flex-section">
                <div class="tools">
                    <div>
                        <span class="section-header no-select">Extended ASCII</span>
                    </div>
                    <div>
                        <button data-action="unicode.information">
                            <span class="ri ri-fw ri-information-line"></span>
                        </button>
                    </div>
                </div>
                <div class="list as-rows no-select"></div>
            </div>

            <div id="canvas-details">
                <span class="canvas-dimensions">
                    <span class="value"></span>
                </span>
                <span class="mouse-coordinates">
                    <span class="ri ri-fw ri-focus-3-line"></span>
                    <span class="value"></span>
                </span>
                <span class="selection-dimensions">
                    <span class="ri ri-fw ri-crop-line"></span>
                    <span class="value"></span>
                </span>
            </div>
        </div>
    </div>

    <div id="confirm-dialog"><p></p></div>

    <div id="save-file-dialog" title="Save As...">
        <label>
            File Name<br>
            <input type="text" class="name highlight"><span class="extension"></span>
        </label>
    </div>

    <div id="export-file-dialog" title="Export" class="dialog-form">
        <label>
            Format:
            <select id="export-file-format" class="w-7">
                <option value="json">JSON</option>
                <option value="gif">GIF</option>
                <option value="png">PNG</option>
                <option value="txt">Plain Text</option>
                <option value="rtf">Rich Text</option>
                <option value="html">HTML</option>
            </select>
        </label>
        <hr>
        <div id="export-options">
            <label>
                Font size: <input type="text" name="fontSize">
            </label>
            <label>
                Frame Structure:
                <select name="frameStructure">
                    <option value="array-chars">Array: chars</option>
                    <option value="obj-chars">Object: chars</option>
                    <option value="obj-chars-colors">Object: chars, colors</option>
                    <option value="obj-chars-colors-colorTable">Object: chars, colors, colorTable</option>
                </select>
            </label>
            <label>
                Color Format:
                <select name="colorFormat">
                    <option value="hex-str">Hex string</option>
                    <option value="rgba-str">RGBA string</option>
                    <option value="rgba-array">RGBA array</option>
                </select>
            </label>
            <label>
                <input type="checkbox" name="mergeCharRows" checked="checked"> Merge char rows into strings
            </label>
            <label>
                Dimensions:
                <input type="text" name="width" placeholder="width"> x
                <input type="text" name="height" placeholder="height">
            </label>
            <label>
                FPS: <input type="text" name="fps">
            </label>
            <label>
                <input type="checkbox" name="background" checked="checked"> Include Background
            </label>
            <label>
                <input type="checkbox" name="loop" checked="checked"> Loop
            </label>
            <label>
                Frames:
                <select name="frames">
                    <option value="current">Current Frame</option>
                    <option value="zip">ZIP</option>
                    <option value="spritesheet">Spritesheet</option>
                </select>
            </label>
            <label>
                Spritesheet layout:
                <input type="number" name="spritesheetColumns"> columns,
                <input type="number" name="spritesheetRows"> rows
            </label>
            <label>
                Frame Separator:
                <select name="frameSeparator">
                    <option value="none">None</option>
                    <option value="space">          </option>
                    <option value="spaceNumbered">#          </option>
                    <option value="dash">----------</option>
                    <option value="dashNumbered" selected="selected">#---------</option>
                    <option value="asterisk">**********</option>
                    <option value="asteriskNumbered">#*********</option>
                </select>
            </label>
        </div>
        <div id="example-container">
            <hr/>
            <div>Example JSON (for 1 sample frame, shown on left):</div>
            <div class="side-by-side">
                <img id="example-img" alt="ABCDEF"/>
                <pre id="example-text"></pre>
            </div>
        </div>
        <div id="spritesheet-png-warning" class="export-warning">
            <div>
                <span class="ri ri-fw ri-error-warning-line"></span>
                Spritesheet PNG export is not yet supported.
            </div>
        </div>

    </div>

    <div id="export-canvas-container">
        <canvas id="export-canvas"></canvas>
    </div>


    <div id="font-dialog" title="Font Settings" class="dialog-form">
        <label>
            Canvas Font: <select id="font-select"></select>
        </label>
        <div>
            Examples:
        </div>
        <div>
            <em>
                <i class="ri-information-line"></i>
                Only monospaced fonts are supported.
                If a font appears identical to <b>System Default</b>, that means it is not available to your browser
                (System Default will be used instead).
            </em>
        </div>
        <div id="font-examples"></div>
    </div>

    <div id="resize-dialog" title="Resize Canvas" class="dialog-form">
        <label>
            <input type="checkbox" name="aspect-ratio" checked="checked"> Maintain aspect ratio
        </label>
        <label>
            Width:
            <input type="text" name="columns"> columns
        </label>
        <label>
            Height:
            <input type="text" name="rows"> rows
        </label>
        <div>
            Anchor:
            <div class="anchor-options">
                <div>
                    <div class="anchor-option" data-row-anchor="top" data-col-anchor="left"></div>
                    <div class="anchor-option" data-row-anchor="top" data-col-anchor="middle"></div>
                    <div class="anchor-option" data-row-anchor="top" data-col-anchor="right"></div>
                </div>
                <div>
                    <div class="anchor-option" data-row-anchor="middle" data-col-anchor="left"></div>
                    <div class="anchor-option" data-row-anchor="middle" data-col-anchor="middle"></div>
                    <div class="anchor-option" data-row-anchor="middle" data-col-anchor="right"></div>
                </div>
                <div>
                    <div class="anchor-option" data-row-anchor="bottom" data-col-anchor="left"></div>
                    <div class="anchor-option" data-row-anchor="bottom" data-col-anchor="middle"></div>
                    <div class="anchor-option" data-row-anchor="bottom" data-col-anchor="right"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="background-dialog" title="Background" class="dialog-form">
        <label>
            <input type="radio" name="background-type" value="transparent"> Transparent
        </label>
        <label>
            <input type="radio" name="background-type" value="colored"> Colored
        </label>

        <div class="color-picker-container">
            <div class="color-picker"></div>
        </div>
    </div>

    <div id="grid-dialog" title="Grid Settings" class="dialog-form">
        <label>
            Grid Width:
            <select id="grid-width" class="w-6"></select>
        </label>
        <label>
            Grid Spacing:
            <select id="grid-spacing" class="w-6"></select>
        </label>

        <label style="padding-top: 0.5rem;">Grid Color:</label>
        <div class="color-picker-container">
            <div class="color-picker"></div>
        </div>
    </div>

    <div id="edit-layer-dialog" title="Edit Layer">
        <label>
            Name<br>
            <input type="text" class="name highlight">
        </label>
    </div>

    <span id="font-ratio-tester">A</span>
    <img id="export-debug" alt="for testing export" hidden>

</body>
</html>